# 谷雨同学的 C++ 教程

## 第二章 理性认识 C++ 程序

### 第 3 部分 控制成分

#### switch语句
- **标号**决定了程序从哪里开始执行语句，例如`case 常量:`, `default:`

#### 跳转语句
- break 语句的含义是跳出循环。也就是说，当程序执行到 break 语句的时候，会跳出一层循环，不再执行循环体内的代码，也不再进行下次循环，直接执行循环之后的语句（若有）。**break 语句只能跳出一层循环**。
- continue 语句的含义是忽略循环体的剩余部分，直接进入下一次循环。使用 continue 语句可以使主题代码保持在“浅”的层次上，所以目前人们认为，使用 continue 语句是一个良好的编程习惯。
- goto 语句的含义是：无条件跳转到`标号`所在的位置上。标号可以自己命名。

#### 作用域
- 对于**变量**来说，变量名的作用域从声明语句中名字被写下的那一位置开始（这个位置被称为声明点）。
  - 如果它的声明语句位于**复合语句**内，则这个名字的作用域结束于复合语句的结尾`}`。
  - 如果名字声明在**`for`语句和`while`语句**内，则这个名字的作用域结束于循环语句的结尾。
- 尽管 C++ 不允许在同一层复合语句中出现相同名字的定义，但是如果是“嵌套”定义，则在这两个声明的名字“重叠”的地方，会选择里层的那个名字来使用。

## 第三章 过程式编程

### 函数
```
返回值类型 函数名(形参列表)
    复合语句
```
函数可以先声明再定义。
如果形参的名字用不上的话，`形参列表`中就不需要给出这个形参的名字。而函数声明中没有函数体，故没有形参名字存在的必要。所以一般人们写函数声明但不定义时，都不给出形参的名字。
- 当 main 函数执行到函数体结尾却没有遇到 return 时，将自动地执行 return 0;。所以说在一般情形下，main 函数结尾可以省去 return 。

#### 全局作用域
- 整个 C++ 代码最顶层的作用域被称为全局命名空间作用域（Global namespace scope），简称**全局作用域**。如果一个名字拥有全局作用域，则它的作用域起始于声明点，结束于整个代码文件的结尾。

#### 注意事项
1. C++ 要求函数的定义不能出现在函数体内。
2. C++ 规定函数的形参不能是数组。
3. 函数的返回值不能是数组。
4. 函数的参数不能是函数。
5. 函数的返回值不能是函数。

## 第四章 POD 类型与结构

### 数组

- 数组长度一定是常量
- 数组不能被赋值


#### C 风格字符串

- **字符串**：由字符数组中连续、相邻的若干个字符，且**只有最后一个字符是空字符**构成的序列称为 C 风格字符串（C string），这里简称为字符串。
- 由双引号引起的转义或非转义字符称为**字符串字面量**（String literal）。
- 字符数组同样不能被赋值

### 输入输出成分

#### 缓冲区
- 程序从缓冲区读入数据；
- 如果缓冲区是空的，则程序挂起（Suspend）。挂起的含义就是暂停运行，等待用户进行输入操作；
- 键盘上的输入需要在按下回车键（即输入了回车符 '\n'）才会进入缓冲区；
- 程序读取缓冲区的数据遵循一定的规则：如 cin >> 遇到空格停止、忽略空格等等。

#### 输入

- 字符串的输入
  1. `cin >>` 遇到空格、Tab、换行符自动停止，可能发生数组越界，仅在极少数情况下使用。
  2. `cin.getline()`  
    接收参数：字符数组、最大长度和分隔符（可选，默认换行符）。当输入的字符个数超过最大长度时会发生截断，剩下的字符仍然停留在缓冲区中而不被读取。同时，会导致 cin 进入失败状态。当`cin.getline()`读到终止字符的时候，会将其从缓冲区中拿走并抛弃，然后再向字符数组中存储一个空字符以示结束.
  3. `cin.get()`
    与`cin.getline()`的唯一不同在于读到终止字符的时候**不会**将其从缓冲区中拿走。
- 字符输入
  1. `cin >>` 
  2. `cin.get()`： 用法 `cin.get(a)` 或`a=cin.get()`.

可以用`cin.get()`或`cin.ignore()`来处理缓冲区残留的字符。

#### 输出
`cout << `
- 是字符数组只有是一个字符串的时候才能被正确地输出。所以这里要求字符数组必须有结尾的 '\0'；如果没有，cout 将会出现越界访问的情况.
- 整型、浮点数
  - `cout << hex;` 等设置进制
  - `cout.precision();`设置输出的有效数字个数。
  - `cout << fixed;` + `cout.precision();`设置小数点后多少位
  - `cout << scientific;`科学计数法
  - `cout << defaultfloat; `恢复默认输出格式。
- 布尔类型
  - `cout << boolalpha;`以文本形式输出 `true `或者 `false`。
  - `cout << noboolalpha;` 取消这个设置.

